<!DOCTYPE html>
<html>
<head>
    <title></title>
    <style>
        #c {border: 1px solid black; }
    </style>
</head>
<body>

<canvas id="c" width="500" height="300"></canvas>

<script src="jquery-1.10.2.js"></script>
<script>
    var el = document.getElementById('c');
    var ctx = el.getContext('2d');
    ctx.lineJoin = ctx.lineCap = 'round';
    ctx.strokeStyle = 'blue';
    ctx.lineWidth = 2;
    var data = null;

    var isDrawing, lastPoint;

    el.onmousedown = function(e) {
        isDrawing = true;
        lastPoint = { x: e.clientX, y: e.clientY };

        data = ctx.getImageData(0, 0, 500, 300);
    };

    el.onmousemove = function(e) {
        if (!isDrawing) return;

        var currentPoint = { x: e.clientX, y: e.clientY };

        ctx.clearRect(0, 0, 500, 400);
        ctx.putImageData(data, 0, 0);
        ctx.beginPath();
        ctx.moveTo(lastPoint.x,lastPoint.y);
        ctx.lineTo(currentPoint.x,currentPoint.y);
        ctx.stroke();
        ctx.closePath();
    };

    el.onmouseup = function() {
        isDrawing = false;
    };
</script>
</body>
</html>